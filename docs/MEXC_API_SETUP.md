# ğŸ” MEXC API Keyè¨­å®šã‚¬ã‚¤ãƒ‰

**æœ€çµ‚æ›´æ–°**: 2025-11-01

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€MEXC APIã‚’ä½¿ç”¨ã—ã¦ã‚¹ãƒãƒ›2FAãªã—ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¼•ãƒ»è³‡ç”£ç®¡ç†ã‚’è¡Œã†æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸ¯ ãªãœAPI KeyãŒå¿…è¦ï¼Ÿ

### å•é¡Œç‚¹

âŒ **æ¯å›ã®ã‚¹ãƒãƒ›2FAèªè¨¼**
- ãƒ­ã‚°ã‚¤ãƒ³ã®ãŸã³ã«ã‚¹ãƒãƒ›ã§ç¢ºèª
- æ™‚é–“ãŒã‹ã‹ã‚‹ï¼ˆ30ç§’~1åˆ†ï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã‚’æãªã†

### è§£æ±ºç­–

âœ… **API Keyä½¿ç”¨**
- 2FAä¸è¦
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¼•å¯èƒ½
- è‡ªå‹•åŒ–å¯èƒ½

**ãƒ—ãƒ­ãƒˆãƒ¬ãƒ¼ãƒ€ãƒ¼ã¯ã¿ã‚“ãªAPI Keyã‚’ä½¿ã£ã¦ã„ã¾ã™**

---

## ğŸ“‹ API Keyä½œæˆæ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: MEXCã«ãƒ­ã‚°ã‚¤ãƒ³

1. [MEXCå…¬å¼ã‚µã‚¤ãƒˆ](https://www.mexc.com/)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆæœ€å¾Œã®2FAèªè¨¼ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—2: APIç®¡ç†ãƒšãƒ¼ã‚¸ã¸ç§»å‹•

1. å³ä¸Šã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **ã€ŒAPIç®¡ç†ã€** ã‚’é¸æŠ

ã¾ãŸã¯ã€ç›´æ¥URL:
```
https://www.mexc.com/ja-JP/usercenter/api-manage
```

### ã‚¹ãƒ†ãƒƒãƒ—3: API Keyä½œæˆ

1. **ã€ŒAPIã‚­ãƒ¼ã‚’ä½œæˆã€** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£èªè¨¼**ï¼ˆã“ã‚ŒãŒæœ€å¾Œã®2FAï¼‰
   - Google Authenticatorã‚³ãƒ¼ãƒ‰å…¥åŠ›
   - ãƒ¡ãƒ¼ãƒ«èªè¨¼ã‚³ãƒ¼ãƒ‰å…¥åŠ›

3. **APIè¨­å®š**

   #### æ¨å¥¨è¨­å®šï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‡è¦–ï¼‰

   | è¨­å®šé …ç›® | æ¨å¥¨å€¤ | èª¬æ˜ |
   |---------|--------|------|
   | **APIå** | `grass-coin-trader` | è­˜åˆ¥ç”¨ã®åå‰ |
   | **å–å¼•æ¨©é™** | âœ… æœ‰åŠ¹ | å£²è²·ã«å¿…è¦ |
   | **èª­ã¿å–ã‚Šå°‚ç”¨** | âŒ ç„¡åŠ¹ | å–å¼•ã‚‚ã™ã‚‹å ´åˆ |
   | **å‡ºé‡‘æ¨©é™** | âŒ **çµ¶å¯¾ã«ç„¡åŠ¹** | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãŸã‚ |
   | **IPã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶é™** | âœ… æœ‰åŠ¹ | è‡ªå®…IPã®ã¿è¨±å¯ |

4. **API Keyã¨Secretã‚’ã‚³ãƒ”ãƒ¼**

   âš ï¸ **é‡è¦**: Secret Keyã¯äºŒåº¦ã¨è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼
   - API Key: `mx0vgl...`ï¼ˆå…¬é–‹å¯ï¼‰
   - Secret Key: `xxxxxxxx`ï¼ˆçµ¶å¯¾ã«ç§˜å¯†ï¼‰

   **ã™ãã«å®‰å…¨ãªå ´æ‰€ã«ä¿å­˜ã—ã¦ãã ã•ã„**

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

### 1. IPã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶é™ï¼ˆæ¨å¥¨ï¼‰

**è‡ªå®…IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¢ºèªæ–¹æ³•**:

```bash
# Windowsã®å ´åˆ
curl ifconfig.me

# ã¾ãŸã¯
https://www.whatismyip.com/
```

**MEXCè¨­å®š**:
1. APIç®¡ç†ç”»é¢ã§ã€ŒIPã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶é™ã‚’ç·¨é›†ã€
2. è‡ªå®…IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿½åŠ 
3. ä¿å­˜

**ãƒ¡ãƒªãƒƒãƒˆ**:
- ä»–ã®å ´æ‰€ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’é˜²ã
- APIãŒæ¼æ´©ã—ã¦ã‚‚å®‰å…¨

### 2. æ¨©é™ã®æœ€å°åŒ–

**æœ€å°é™ã®æ¨©é™ã®ã¿ä»˜ä¸**:

| ç”¨é€” | å¿…è¦ãªæ¨©é™ |
|------|-----------|
| ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç¢ºèªã®ã¿ | èª­ã¿å–ã‚Šå°‚ç”¨ |
| æ‰‹å‹•å£²è²· | å–å¼•æ¨©é™ |
| è‡ªå‹•å£²è²·ãƒœãƒƒãƒˆ | å–å¼•æ¨©é™ |
| **å‡ºé‡‘** | âŒ **çµ¶å¯¾ã«ä¸è¦** |

### 3. ç’°å¢ƒå¤‰æ•°ã«ä¿å­˜ï¼ˆæ¨å¥¨ï¼‰

**Windowsã®å ´åˆ**:

```powershell
# PowerShellã§å®Ÿè¡Œ
[System.Environment]::SetEnvironmentVariable('MEXC_API_KEY', 'mx0vgl...', 'User')
[System.Environment]::SetEnvironmentVariable('MEXC_API_SECRET', 'xxxxxxxx', 'User')
```

**ç¢ºèª**:
```powershell
echo $env:MEXC_API_KEY
```

**ã¾ãŸã¯ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ä½¿ç”¨**:

```bash
# .env ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
MEXC_API_KEY=mx0vgl...
MEXC_API_SECRET=xxxxxxxx
```

âš ï¸ **æ³¨æ„**: `.env`ã‚’`.gitignore`ã«è¿½åŠ ï¼

```bash
# .gitignore
.env
```

---

## ğŸ’» APIä½¿ç”¨æ–¹æ³•

### Pythonï¼ˆccxtä½¿ç”¨ï¼‰

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pip install ccxt python-dotenv
```

#### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```python
import ccxt
import os
from dotenv import load_dotenv

# ç’°å¢ƒå¤‰æ•°èª­ã¿è¾¼ã¿
load_dotenv()

# MEXCæ¥ç¶š
exchange = ccxt.mexc({
    'apiKey': os.getenv('MEXC_API_KEY'),
    'secret': os.getenv('MEXC_API_SECRET'),
})

# ä¿æœ‰è³‡ç”£å–å¾—ï¼ˆ2FAãªã—ï¼ï¼‰
balance = exchange.fetch_balance()
print(balance)

# å–å¼•å±¥æ­´å–å¾—
trades = exchange.fetch_my_trades('BTC/USDT', limit=10)
print(trades)

# æ³¨æ–‡ï¼ˆæ…é‡ã«ï¼ï¼‰
# order = exchange.create_market_buy_order('BTC/USDT', 0.001)
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### 1. APIæ¥ç¶šãƒ†ã‚¹ãƒˆ

```python
# test_mexc_api.py
import ccxt
import os
from dotenv import load_dotenv

load_dotenv()

try:
    exchange = ccxt.mexc({
        'apiKey': os.getenv('MEXC_API_KEY'),
        'secret': os.getenv('MEXC_API_SECRET'),
    })

    # æ¥ç¶šãƒ†ã‚¹ãƒˆ
    balance = exchange.fetch_balance()
    print("âœ… APIæ¥ç¶šæˆåŠŸï¼")
    print(f"ç·è³‡ç”£: {balance['total']}")

except Exception as e:
    print(f"âŒ ã‚¨ãƒ©ãƒ¼: {e}")
```

å®Ÿè¡Œ:
```bash
python test_mexc_api.py
```

### 2. ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç¢ºèªãƒ†ã‚¹ãƒˆ

```python
# ä¿æœ‰éŠ˜æŸ„ã¨æ•°é‡ã‚’è¡¨ç¤º
for currency, amount in balance['total'].items():
    if amount > 0:
        print(f"{currency}: {amount}")
```

---

## âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼1: `Invalid API Key`

**åŸå› **:
- API KeyãŒé–“é•ã£ã¦ã„ã‚‹
- ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„

**å¯¾å‡¦æ³•**:
```python
# ç›´æ¥ç¢ºèª
print(os.getenv('MEXC_API_KEY'))
```

### ã‚¨ãƒ©ãƒ¼2: `IP not whitelisted`

**åŸå› **:
- IPã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶é™ãŒæœ‰åŠ¹ã§ã€ç¾åœ¨ã®IPãŒè¨±å¯ã•ã‚Œã¦ã„ãªã„

**å¯¾å‡¦æ³•**:
1. ç¾åœ¨ã®IPã‚’ç¢ºèª: `curl ifconfig.me`
2. MEXC APIç®¡ç†ç”»é¢ã§IPã‚’è¿½åŠ 

### ã‚¨ãƒ©ãƒ¼3: `Insufficient permissions`

**åŸå› **:
- API Keyã«å¿…è¦ãªæ¨©é™ãŒãªã„

**å¯¾å‡¦æ³•**:
- APIç®¡ç†ç”»é¢ã§æ¨©é™ã‚’ç¢ºèªãƒ»è¿½åŠ 

---

## ğŸ“Š ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°å®Ÿè£…

### è‡ªå‹•ç›£è¦–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```python
# src/portfolio/tracker.py
import ccxt
import pandas as pd
from datetime import datetime
import time
import os
from dotenv import load_dotenv

load_dotenv()

class PortfolioTracker:
    def __init__(self):
        self.exchange = ccxt.mexc({
            'apiKey': os.getenv('MEXC_API_KEY'),
            'secret': os.getenv('MEXC_API_SECRET'),
        })

    def fetch_holdings(self):
        """ä¿æœ‰è³‡ç”£ã‚’å–å¾—"""
        balance = self.exchange.fetch_balance()
        holdings = []

        for currency, amount in balance['total'].items():
            if amount > 0:
                # USDTã«å¯¾ã™ã‚‹ä¾¡æ ¼å–å¾—
                try:
                    ticker = self.exchange.fetch_ticker(f'{currency}/USDT')
                    price = ticker['last']
                    value = amount * price
                except:
                    price = 1 if currency == 'USDT' else 0
                    value = amount

                holdings.append({
                    'currency': currency,
                    'amount': amount,
                    'price_usdt': price,
                    'value_usdt': value,
                })

        return holdings

    def save_snapshot(self):
        """ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜"""
        timestamp = datetime.now()
        holdings = self.fetch_holdings()

        df = pd.DataFrame(holdings)
        df['timestamp'] = timestamp

        # ä¿å­˜
        filename = f"data/portfolio/snapshot_{timestamp.strftime('%Y%m%d_%H%M%S')}.parquet"
        df.to_parquet(filename)

        print(f"âœ… ä¿å­˜: {filename}")

    def start_monitoring(self, interval_seconds=60):
        """å®šæœŸç›£è¦–é–‹å§‹"""
        print(f"â±ï¸  ç›£è¦–é–‹å§‹ï¼ˆ{interval_seconds}ç§’ã”ã¨ï¼‰")
        while True:
            try:
                self.save_snapshot()
                time.sleep(interval_seconds)
            except KeyboardInterrupt:
                print("\nâ¹ï¸  ç›£è¦–åœæ­¢")
                break
            except Exception as e:
                print(f"âŒ ã‚¨ãƒ©ãƒ¼: {e}")
                time.sleep(interval_seconds)

if __name__ == '__main__':
    tracker = PortfolioTracker()
    tracker.start_monitoring(interval_seconds=60)  # 1åˆ†ã”ã¨
```

### å®Ÿè¡Œæ–¹æ³•

```bash
# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œ
python src/portfolio/tracker.py &
```

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… API Keyä½œæˆå®Œäº†
2. âœ… ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡ŒæˆåŠŸ
3. [ ] ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹
4. [ ] Streamlit UIã«ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè¡¨ç¤ºè¿½åŠ 
5. [ ] Claudeè§£èª¬ç”Ÿæˆæ©Ÿèƒ½å®Ÿè£…

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [MEXC APIå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://mexcdevelop.github.io/apidocs/spot_v3_en/)
- [ccxtå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.ccxt.com/)
- [MEXC API GitHub](https://github.com/mxcdevelop)

---

**æœ€çµ‚æ›´æ–°**: 2025-11-01
**ä½œæˆè€…**: Claude Codeï¼ˆwith tatutï¼‰
