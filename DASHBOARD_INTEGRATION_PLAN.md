# Dashboardçµ±åˆè¨ˆç”»

## ğŸ“‹ å¤‰æ›´æ¦‚è¦

### ç›®çš„
- UIã‚’ã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼ˆ2ãƒšãƒ¼ã‚¸ â†’ 1ãƒšãƒ¼ã‚¸ï¼‰
- ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å…¨éŠ˜æŸ„ã®1åˆ†è¶³ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬å–å¾—
- ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨è¡¨ç¤ºã‚’åŒã˜ç”»é¢ã«çµ±åˆ

---

## ğŸ”„ å¤‰æ›´å†…å®¹

### 1. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã®å¤‰æ›´

**Before:**
```
ui/pages/
â”œâ”€â”€ 02_Data_Management.py       # ãƒ‡ãƒ¼ã‚¿å–å¾—å°‚ç”¨ãƒšãƒ¼ã‚¸
â””â”€â”€ 03_Advanced_Dashboard.py    # è¡¨ç¤ºå°‚ç”¨ãƒšãƒ¼ã‚¸
```

**After:**
```
ui/pages/
â””â”€â”€ 02_Dashboard.py              # çµ±åˆãƒšãƒ¼ã‚¸ï¼ˆå–å¾—+è¡¨ç¤ºï¼‰
```

**ä½œæ¥­:**
- `03_Advanced_Dashboard.py` â†’ `02_Dashboard.py` ã«ãƒªãƒãƒ¼ãƒ 
- `02_Data_Management.py` ã‚’å‰Šé™¤

---

### 2. Dashboard UI æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Dashboard                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€‘  â”‚ ã€ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ã€‘                      â”‚
â”‚                 â”‚                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  ãƒ­ãƒ¼ã‚½ã‚¯è¶³ãƒãƒ£ãƒ¼ãƒˆ                   â”‚
â”‚ â”‚ğŸ”„ å…¨ãƒ‡ãƒ¼ã‚¿â”‚    â”‚  â”œâ”€ Plotly candlestick             â”‚
â”‚ â”‚  å–å¾—    â”‚    â”‚  â”œâ”€ RSI                             â”‚
â”‚ â”‚ (ãƒœã‚¿ãƒ³) â”‚    â”‚  â”œâ”€ MACD                            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€ Bollinger Bands                 â”‚
â”‚                 â”‚                                       â”‚
â”‚ éŠ˜æŸ„é¸æŠ:       â”‚  çµ±è¨ˆæƒ…å ±                             â”‚
â”‚  [BTC â–¼]       â”‚  ä¾¡æ ¼äºˆæ¸¬ï¼ˆARIMA/GARCHï¼‰             â”‚
â”‚                 â”‚                                       â”‚
â”‚ æ™‚é–“è¶³:         â”‚                                       â”‚
â”‚  [1m â–¼]        â”‚                                       â”‚
â”‚                 â”‚                                       â”‚
â”‚ è¡¨ç¤ºæœŸé–“:       â”‚                                       â”‚
â”‚  [500ä»¶]       â”‚                                       â”‚
â”‚                 â”‚                                       â”‚
â”‚ âš™ï¸ ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„ â”‚                                       â”‚
â”‚  (expander)    â”‚                                       â”‚
â”‚  â”œâ”€ è¿½åŠ        â”‚                                       â”‚
â”‚  â””â”€ å‰Šé™¤       â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å®Ÿè£…è©³ç´°

### 3. å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒœã‚¿ãƒ³ã®ä»•æ§˜

**é…ç½®**: å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼æœ€ä¸Šéƒ¨ï¼ˆå¤§ãã‚ã®ãƒœã‚¿ãƒ³ï¼‰

**å¯¾è±¡éŠ˜æŸ„**:
```python
# åŸºæœ¬éŠ˜æŸ„ãƒªã‚¹ãƒˆï¼ˆBinanceä¸»è¦éŠ˜æŸ„ 40ç¨®ï¼‰
DEFAULT_SYMBOLS = [
    # ãƒ¡ã‚¸ãƒ£ãƒ¼ï¼ˆæ™‚ä¾¡ç·é¡TOP10ï¼‰
    'BTC', 'ETH', 'BNB', 'XRP', 'ADA', 'SOL', 'DOT', 'DOGE', 'MATIC', 'SHIB',

    # DeFi
    'AVAX', 'UNI', 'LINK', 'ATOM', 'LTC', 'ETC', 'XLM', 'ALGO', 'AAVE', 'CRV',

    # L2/æ–°èˆˆ
    'ARB', 'OP', 'APT', 'SUI', 'SEI', 'IMX', 'BLUR', 'LDO', 'RNDR', 'INJ',

    # GameFi/Metaverse
    'SAND', 'MANA', 'AXS', 'GALA', 'ENJ', 'ICP', 'FIL', 'GRT', 'CHZ', 'APE'
]

# ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ ï¼‰
custom_symbols = st.session_state.get('custom_symbols', [])

# å–å¾—å¯¾è±¡ = åŸºæœ¬ + ã‚«ã‚¹ã‚¿ãƒ 
target_symbols = DEFAULT_SYMBOLS + custom_symbols
```

**å–å¾—ä»•æ§˜**:
- åˆå›: Binance APIã‹ã‚‰å–å¾—å¯èƒ½ãªå…¨æœŸé–“ï¼ˆé€šå¸¸ 1000æ—¥åˆ†ç¨‹åº¦ï¼‰
- 2å›ç›®ä»¥é™: å·®åˆ†ã®ã¿å–å¾—ï¼ˆæœ€çµ‚ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»¥é™ï¼‰
- æ™‚é–“è¶³: 1åˆ†è¶³ã®ã¿
- ä¿å­˜å½¢å¼: Parquet

**å‹•ä½œãƒ•ãƒ­ãƒ¼**:
1. ãƒœã‚¿ãƒ³æŠ¼ä¸‹
2. ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¡¨ç¤ºï¼ˆã€Œãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­...ã€ï¼‰
3. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤ºï¼ˆ0% â†’ 100%ï¼‰
4. å„éŠ˜æŸ„ã”ã¨ã«å–å¾—çŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
   ```
   [1/43] BTC: å–å¾—ä¸­... âœ… 1,520ä»¶
   [2/43] ETH: å–å¾—ä¸­... âœ… 10,080ä»¶
   [3/43] BNB: å–å¾—ä¸­... âœ… 8,500ä»¶
   ...
   ```
5. å®Œäº†å¾Œã«ã‚µãƒãƒªãƒ¼è¡¨ç¤º
   ```
   âœ… ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº†ï¼

   å–å¾—éŠ˜æŸ„: 43ç¨®
   ç·ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: 432,000ä»¶
   æ‰€è¦æ™‚é–“: 2åˆ†30ç§’
   ```

**å®Ÿè£…ã‚³ãƒ¼ãƒ‰**:
```python
if st.sidebar.button("ğŸ”„ å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—", type="primary", use_container_width=True):
    target_symbols = DEFAULT_SYMBOLS + st.session_state.get('custom_symbols', [])

    with st.spinner(f"{len(target_symbols)}éŠ˜æŸ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."):
        progress_bar = st.progress(0)
        status_text = st.empty()

        collector = MinuteDataCollector()

        for i, symbol in enumerate(target_symbols):
            status_text.text(f"[{i+1}/{len(target_symbols)}] {symbol} å–å¾—ä¸­...")

            # subprocesså®Ÿè¡Œ
            cmd = ['python', 'sample/data/minute_data_collector.py',
                   '--symbols', symbol, '--days', '1000']
            result = subprocess.run(cmd, capture_output=True, ...)

            # ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            progress_bar.progress((i + 1) / len(target_symbols))

        st.success("âœ… å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº†ï¼")
        st.rerun()  # ãƒãƒ£ãƒ¼ãƒˆæ›´æ–°
```

---

### 4. ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„ç®¡ç†

**é…ç½®**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ä¸‹éƒ¨ï¼ˆexpanderï¼‰

**UI**:
```
âš™ï¸ ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„è¨­å®š
  â”œâ”€ ç¾åœ¨ã®éŠ˜æŸ„: BTC, ETH, ... (40ç¨®)
  â”‚
  â”œâ”€ è¿½åŠ 
  â”‚   â”œâ”€ å…¥åŠ›: [PEPE___]  [è¿½åŠ ãƒœã‚¿ãƒ³]
  â”‚   â””â”€ æ³¨: Binanceä¸Šå ´éŠ˜æŸ„ã®ã¿
  â”‚
  â””â”€ å‰Šé™¤
      â””â”€ [PEPE] [Ã—å‰Šé™¤]
```

**å®Ÿè£…**:
```python
with st.sidebar.expander("âš™ï¸ ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„è¨­å®š"):
    st.write(f"**åŸºæœ¬éŠ˜æŸ„**: {len(DEFAULT_SYMBOLS)}ç¨®")

    # ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„ãƒªã‚¹ãƒˆ
    custom_symbols = st.session_state.get('custom_symbols', [])

    # è¿½åŠ 
    new_symbol = st.text_input("è¿½åŠ ã™ã‚‹éŠ˜æŸ„", placeholder="ä¾‹: PEPE")
    if st.button("è¿½åŠ "):
        if new_symbol.upper() not in custom_symbols:
            custom_symbols.append(new_symbol.upper())
            st.session_state.custom_symbols = custom_symbols
            st.rerun()

    # å‰Šé™¤
    if custom_symbols:
        st.write("**ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„**:")
        for symbol in custom_symbols:
            col1, col2 = st.columns([3, 1])
            with col1:
                st.text(symbol)
            with col2:
                if st.button("Ã—", key=f"del_{symbol}"):
                    custom_symbols.remove(symbol)
                    st.session_state.custom_symbols = custom_symbols
                    st.rerun()
```

---

### 5. éŠ˜æŸ„é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®æ›´æ–°

**ç¾çŠ¶**: ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰è‡ªå‹•æ¤œå‡º
```python
files = list(storage.price_dir.glob("*_1m.parquet"))
available_symbols = [f.stem.replace('_1m', '') for f in files]
```

**å¤‰æ›´å¾Œ**: åŸºæœ¬éŠ˜æŸ„ + ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„ + æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«
```python
# 1. åŸºæœ¬éŠ˜æŸ„
all_symbols = set(DEFAULT_SYMBOLS)

# 2. ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„
all_symbols.update(st.session_state.get('custom_symbols', []))

# 3. æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¸‹ä½äº’æ›æ€§ï¼‰
files = list(storage.price_dir.glob("*_1m.parquet"))
all_symbols.update([f.stem.replace('_1m', '') for f in files])

# ã‚½ãƒ¼ãƒˆ
available_symbols = sorted(all_symbols)
```

---

## ğŸ—‘ï¸ å‰Šé™¤ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

- `ui/pages/02_Data_Management.py`ï¼ˆå®Œå…¨å‰Šé™¤ï¼‰

**ç†ç”±**: å…¨æ©Ÿèƒ½ã‚’Dashboardã«çµ±åˆã™ã‚‹ãŸã‚

---

## âš ï¸ æ³¨æ„äº‹é …

### APIåˆ¶é™
- Binance API: 1200ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†
- 40éŠ˜æŸ„ Ã— 1000æ—¥ = ç´„40-80ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã«0.5ç§’å¾…æ©Ÿï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰
- å…¨éŠ˜æŸ„å–å¾—ã«ç´„2-5åˆ†ã‹ã‹ã‚‹è¦‹è¾¼ã¿

### åˆå›å–å¾—æ™‚ã®æ¨å¥¨
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã€Œåˆå›ã¯æ•°åˆ†ã‹ã‹ã‚‹ã€æ—¨ã‚’é€šçŸ¥
2. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã§é€²æ—ã‚’å¯è¦–åŒ–
3. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ãªã„ã‚ˆã†æ³¨æ„å–šèµ·

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- APIæ¥ç¶šã‚¨ãƒ©ãƒ¼ â†’ ã‚¹ã‚­ãƒƒãƒ—ã—ã¦æ¬¡ã®éŠ˜æŸ„ã¸
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ å€‹åˆ¥ã«å†è©¦è¡Œãƒœã‚¿ãƒ³è¡¨ç¤º
- å…¨ä½“å¤±æ•—æ™‚ â†’ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¡¨ç¤º

---

## âœ… å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ãƒªãƒãƒ¼ãƒ ï¼ˆ`03_Advanced_Dashboard.py` â†’ `02_Dashboard.py`ï¼‰
- [ ] `02_Data_Management.py` å‰Šé™¤
- [ ] åŸºæœ¬éŠ˜æŸ„ãƒªã‚¹ãƒˆå®šç¾©ï¼ˆ40ç¨®ï¼‰
- [ ] å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
- [ ] ã‚«ã‚¹ã‚¿ãƒ éŠ˜æŸ„è¿½åŠ /å‰Šé™¤æ©Ÿèƒ½
- [ ] éŠ˜æŸ„é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³æ›´æ–°
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] å‹•ä½œãƒ†ã‚¹ãƒˆ
- [ ] gitã‚³ãƒŸãƒƒãƒˆ

---

## ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### Before
- 2ãƒšãƒ¼ã‚¸ã«åˆ†é›¢ â†’ ã‚ã‹ã‚Šã«ãã„
- æ‰‹å‹•ã§éŠ˜æŸ„é¸æŠ â†’ é¢å€’
- ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨è¡¨ç¤ºãŒåˆ¥ â†’ ç…©é›‘

### After
- 1ãƒšãƒ¼ã‚¸ã«çµ±åˆ â†’ ã‚·ãƒ³ãƒ—ãƒ«
- ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å…¨å–å¾— â†’ ç°¡å˜
- çµ±åˆUI â†’ ç›´æ„Ÿçš„

---

## ğŸ’¬ æ‰¿èªç¢ºèª

ã“ã®è¨ˆç”»ã§å®Ÿè£…ã‚’é€²ã‚ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ

å¤‰æ›´å¸Œæœ›ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ï¼š
- åŸºæœ¬éŠ˜æŸ„ãƒªã‚¹ãƒˆã®å¤‰æ›´
- UIé…ç½®ã®å¤‰æ›´
- ãã®ä»–ã®è¦æœ›
