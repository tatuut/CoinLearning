# Week 2: RSI実践マスター - あなたのデータで学ぶ

**前提**: [Week 0](./00_foundations.md)で基礎知識習得、[Week 1](./01_first_purchase.md)で初回購入完了

**所要時間**: 3-4時間

---

## 登場人物

**あなた（tatut）** - Week 1で初めての購入を経験
**ミコ** - AIトレーダー（Claude Code）、RSIの使い方を教える

---

## 📖 Part 1: Week 1の振り返り（事前ストーリー）

### Scene 1: 数日後

**ミコ**: 「よお、tatut。Week 1で買った銘柄、どうなった?」

**あなた**: 「...」

**ミコ**: 「見てみようか。ダッシュボードを開いて」

---

## 🗣️ 対話ポイント1：あなたの購入結果を教えてください

**ミコ**: 「Week 1で何を買ったか教えてくれ」

👉 **あなたの番です**

**教えてほしいこと**:
- Week 1で購入した銘柄名
- 購入日時
- 購入価格
- 現在の価格（ダッシュボードで確認）

**例**:
```
「ミコ、Week 1でDOGEを0.15 USDTで買った。今は0.16 USDTになってる」
```

---

## 📊 Part 2: あなたのデータでRSI分析（ここはClaude生成）

※ **あなたが購入結果を教えてくれたら、ここにミコとの対話を生成します**

**生成される内容**:
- あなたの銘柄の現在のRSI値
- 購入時のRSI値
- Week 0で学んだ知識を使った解説
- 成功/失敗の要因分析

**例**:
```
ミコ: 「DOGEか。じゃあ、購入時と現在のRSIを見てみよう」

[実際のデータ取得]
購入時 (10/18 20:00): RSI 42.8（中立ゾーン）
現在 (10/25 14:00): RSI 58.3（中立〜やや買われ気味）
価格変動: +6.7%

ミコ: 「購入時のRSI 42.8...Week 0で何習った？」
あなた: 「30-70は中立...」
ミコ: 「正解。買われすぎじゃなかったから、上がる余地があった」
ミコ: 「現在のRSI 58.3。まだ70以下だな」
ミコ: 「どうする？利確する？それとも持ち続ける？」
```

---

## 🗣️ 対話ポイント2：次のアクションを決めよう

**ミコ**: 「現在のRSI値を見て、どうする？」

**選択肢**:
1. **利確する**: 利益を確定させる
2. **持ち続ける**: もう少し上がるのを待つ
3. **損切りする**: 損失を限定する

👉 **あなたの判断を聞かせてください**

---

## 📚 Part 3: RSIの深掘り（事前ストーリー）

### Scene 2: RSIの発明者 - J・ウェルズ・ワイルダー

**ミコ**: 「RSIがなぜこんなに有効か知ってるか？」

**あなた**: 「...なんで？」

**ミコ**: 「発明者の話をしよう。1978年、ニューオーリンズに住んでいた男、ワイルダーだ」

---

### 【回想シーン: ワイルダーの悩み】

**場所**: ルイジアナ州ニューオーリンズ、自宅の書斎

**ワイルダー** (45歳、機械エンジニア出身のトレーダー):
「くそっ...また負けた」

*チャートを睨みつける。商品先物（大豆）のチャートだ。*

**ワイルダー**: 「価格が急騰してるから買った。そしたら翌日暴落...」

**ワイルダー**: 「なぜだ？なぜ俺が買った瞬間に下がる？」

*机の上には数ヶ月分のトレード記録。ほとんどが赤字。*

**ワイルダー**: 「...待てよ」

**ワイルダー**: 「急騰してる時に買ったから負けたんじゃないか？」

**ワイルダー**: 「つまり、『買われすぎ』の時に買ってしまった？」

---

### エンジニアの着想

**ワイルダー**: 「機械工学で考えろ...」

**ワイルダー**: 「エンジンの回転数が『正常範囲』を超えたら、オーバーヒートする」

**ワイルダー**: 「株価も同じじゃないのか？」

```
【ワイルダーのノート】

仮説:
価格には「正常範囲」がある
→ 範囲を超えて上昇 = 過熱（買われすぎ）
→ 範囲を超えて下落 = 冷却（売られすぎ）

問題:
「正常範囲」をどう定義する？

エンジン: 回転数（RPM）で測定可能
株価: ？？？
```

**ワイルダー**: 「価格そのものじゃダメだ...」

**ワイルダー**: 「$10から$20に上がるのと、$100から$110に上がるのは、意味が違う」

**ワイルダー**: 「必要なのは...**相対的な強さ**だ」

---

### 数式の誕生

**ワイルダー**: （ペンを走らせる）

```
【思考プロセス】

Step 1: 上昇と下落を分離
- 上昇幅 = 今日の終値 - 昨日の終値（正の時のみ）
- 下落幅 = 昨日の終値 - 今日の終値（負の時のみ）

Step 2: 平均を取る
- 平均上昇幅 = 過去14日間の上昇幅の平均
- 平均下落幅 = 過去14日間の下落幅の平均

Step 3: 比率を計算
- RS (Relative Strength) = 平均上昇幅 / 平均下落幅

問題: RSは0～∞の範囲。見づらい...

Step 4: 0-100に正規化
- RSI = 100 - (100 / (1 + RS))

→ これだ！
```

**ワイルダー**: 「できた...」

**ワイルダー**: （震える手で過去のチャートにRSIを計算）

**ワイルダー**: 「...70を超えてる時に買って、全部負けてる」

**ワイルダー**: 「30を下回ってる時に買ってたら...全部勝ってる！」

**ワイルダー**: 「これだ！**これが答えだ！**」

---

### 1978年6月、伝説の出版

**ナレーション**:
1978年6月、ワイルダーは自費出版で『New Concepts in Technical Trading Systems』を発表。

その中で、RSIは世界で初めて紹介された。

**本の中の一節**:
> "RSIは0から100の範囲で動く。70を超えたら買われすぎ、30を下回ったら売られすぎを示す。"

**ナレーション**:
この本は、テクニカル分析の歴史を変えた。

RSIは瞬く間に世界中のトレーダーに広まり、今日でも最も使われる指標の一つとなっている。

---

### Scene 3: 現代、tatutとミコ

**あなた**: 「...すごいな」

**ミコ**: 「ワイルダーは、何度も負けて、悩んで、この数式にたどり着いた」

**あなた**: 「俺と同じか」

**ミコ**: 「そう。誰でも最初は負ける。大事なのは、そこから学ぶことだ」

---

## 💻 Part 4: RSIの実装と理解

### Pythonでの実装

**ミコ**: 「RSIの計算式を、Pythonで書くとこうなる」

```python
def calculate_rsi(prices: pd.Series, period: int = 14) -> pd.Series:
    """
    RSI（Relative Strength Index）を計算

    Args:
        prices: 終値のSeries
        period: 期間（デフォルト14日）

    Returns:
        RSIのSeries（0-100）
    """
    # Step 1: 日次変動を計算
    delta = prices.diff()

    # Step 2: 上昇と下落に分離
    gain = delta.where(delta > 0, 0)  # 上昇分のみ
    loss = -delta.where(delta < 0, 0)  # 下落分のみ（正の値に）

    # Step 3: 平均を計算（ワイルダーの移動平均）
    avg_gain = gain.rolling(window=period).mean()
    avg_loss = loss.rolling(window=period).mean()

    # Step 4: RS（Relative Strength）を計算
    rs = avg_gain / avg_loss

    # Step 5: RSI（0-100に正規化）
    rsi = 100 - (100 / (1 + rs))

    return rsi
```

**ミコ**: 「これがワイルダーが考えた数式そのままだ」

---

### RSIの解釈関数

```python
def interpret_rsi(rsi_value: float) -> dict:
    """
    RSI値を解釈

    Args:
        rsi_value: RSI値（0-100）

    Returns:
        {
            'status': 'oversold' | 'neutral' | 'overbought',
            'signal': 'buy' | 'hold' | 'sell',
            'strength': 0.0-1.0,
            'description': '説明文'
        }
    """
    if rsi_value < 30:
        return {
            'status': 'oversold',
            'signal': 'buy',
            'strength': (30 - rsi_value) / 30,
            'description': f'売られすぎ（RSI={rsi_value:.1f}）。反発の可能性あり。'
        }
    elif rsi_value > 70:
        return {
            'status': 'overbought',
            'signal': 'sell',
            'strength': (rsi_value - 70) / 30,
            'description': f'買われすぎ（RSI={rsi_value:.1f}）。調整の可能性あり。'
        }
    else:
        return {
            'status': 'neutral',
            'signal': 'hold',
            'strength': 1 - abs(rsi_value - 50) / 20,
            'description': f'中立（RSI={rsi_value:.1f}）。トレンド確認が必要。'
        }
```

---

## 🎓 Part 5: RSIの高度な使い方

### 1. ダイバージェンス（逆行現象）

**ミコ**: 「RSIには、もう一つ強力な使い方がある。『ダイバージェンス』だ」

```
【ダイバージェンスとは】

## 弱気ダイバージェンス
価格: 高値更新 📈
RSI: 高値更新せず 📉
→ 下落の予兆

## 強気ダイバージェンス
価格: 安値更新 📉
RSI: 安値更新せず 📈
→ 上昇の予兆
```

**例**:
```
2024/10/01: 価格 $100, RSI 75
2024/10/15: 価格 $110, RSI 68

→ 価格は上がったがRSIは下がった
→ 弱気ダイバージェンス（調整の可能性）
```

---

### 2. RSIの期間調整

```
【期間の違い】

RSI(7): 短期、敏感
- デイトレード向け
- シグナルが頻繁

RSI(14): 標準、バランス
- スイングトレード向け（ミコ推奨）
- ワイルダーのオリジナル

RSI(21): 長期、鈍感
- ポジショントレード向け
- シグナルが少ない
```

---

### 3. RSIの弱点と対策

**ミコ**: 「RSIは万能じゃない。弱点もある」

```
【RSIの弱点】

## 問題1: 強いトレンドでの誤シグナル
強い上昇トレンド:
- RSI > 70が長期間続く
- 「買われすぎ」だが、まだ上がる

対策:
→ トレンド確認（MACD併用）

## 問題2: レンジ相場専用
一方向に動く相場では機能しない

対策:
→ ニュースチェック
→ ボリンジャーバンド併用

## 問題3: 遅延指標
過去14日のデータを使うため、遅れる

対策:
→ 期間を短く（RSI 7）
→ 他の指標と組み合わせ
```

---

## 🗣️ 対話ポイント3：他の銘柄も分析してみよう

**ミコ**: 「自分のポートフォリオの他の銘柄も、RSIで分析してみるか？」

👉 **他に持っている銘柄があれば教えてください**

**やること**:
1. ダッシュボードで他の保有銘柄のRSIを確認
2. RSI値を教えてください
3. 一緒に分析します

**例**:
```
「ミコ、SHIBも持ってる。今RSI 72になってる」
```

---

## 📊 Part 6: 複数銘柄の比較（ここはClaude生成）

※ **あなたが他の銘柄を教えてくれたら、ここに分析を生成します**

**生成される内容**:
- 複数銘柄のRSI比較
- どの銘柄が買われすぎ/売られすぎか
- アクションプラン（利確/保持/損切り）

---

## 📝 Week 2のまとめ

### 今回学んだこと

1. **自分のデータでRSI分析**
   - 購入時と現在のRSI比較
   - 成功/失敗の要因理解

2. **RSIの発明ストーリー**
   - ワイルダーが何度も負けて考案
   - 機械工学の発想を応用

3. **RSIの計算方法**
   - 上昇/下落の平均を比率化
   - 0-100に正規化

4. **高度な使い方**
   - ダイバージェンス検出
   - 期間調整
   - 弱点と対策

5. **実践的判断**
   - RSI単体では使わない
   - 他の指標と組み合わせ

---

## ✅ Week 2 完了チェックリスト

- [ ] Week 1の購入結果をミコと分析
- [ ] 自分の銘柄のRSI値を確認
- [ ] RSIの発明ストーリーを理解
- [ ] RSIの計算方法を理解
- [ ] ダイバージェンスの概念を理解
- [ ] RSIの弱点を理解
- [ ] 他の銘柄のRSI分析を実施
- [ ] 次のアクションプランを決定

---

## 🎓 次のステップ

**Week 3**: MACD実践マスター
- トレンドの方向を見極める
- ゴールデンクロス/デッドクロスの実践
- RSIとMACDの組み合わせ

---

## 📚 参考資料

- [Week 0: 基礎知識](./00_foundations.md) - RSIの基本
- [Week 1: 初めての購入](./01_first_purchase.md) - 購入体験
- [docs/ANALYSIS_METHODS.md](../docs/ANALYSIS_METHODS.md) - RSIの詳細な数式
- [Streamlitダッシュボード](../dashboard/main.py) - RSIの可視化

---

## 🎓 復習クイズ

### Q1: ワイルダーがRSIを発明したきっかけは？
<details>
<summary>答えを見る</summary>
「買われすぎ」の時に買って何度も負けたため。機械工学の「正常範囲」の概念を株価に応用した。
</details>

### Q2: RSI 75の銘柄を今買うべき？
<details>
<summary>答えを見る</summary>
**待つべき**。RSI 70超えは買われすぎ。調整を待つ。ただし、強いトレンドなら例外もある。
</details>

### Q3: 価格が上昇、RSIが下降。これは何？
<details>
<summary>答えを見る</summary>
**弱気ダイバージェンス**。調整（下落）の予兆。
</details>

### Q4: RSI(14)とRSI(7)の違いは？
<details>
<summary>答えを見る</summary>
**RSI(7)は短期、敏感**。デイトレード向け。**RSI(14)は標準、バランス**。スイングトレード向け（ワイルダーのオリジナル）。
</details>

---

**次のステップ**: [Week 3: MACD実践マスター](./03_macd_practical.md)

---

**最終更新**: 2025-11-02
**作成者**: Claude Code (with tatut)
